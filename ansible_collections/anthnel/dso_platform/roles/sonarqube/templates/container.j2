[Unit]
Description=SonarQube Container
Requires=postgres.service

[Container]
Label=app=sonarqube
ContainerName=sonarqube
Image=docker.io/sonarqube:community
Volume=sonarqube-logs.volume:/opt/sonarqube/logs
Volume=sonarqube-data.volume:/opt/sonarqube/data
Volume=sonarqube-config.volume:/opt/sonarqube/conf
Volume=sonarqube-extensions.volume:/opt/sonarqube/extensions
PublishPort=9000:9000
Environment=SONAR_JDBC_URL=jdbc:postgresql://localhost:5432/sonar
Environment=SONAR_JDBC_USERNAME=sonar
Environment=SONAR_JDBC_PASSWORD=sonar
#AutoUpdate=registry

[Install]
WantedBy=multi-user.target default.target